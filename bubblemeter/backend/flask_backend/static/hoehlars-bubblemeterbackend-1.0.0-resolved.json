{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "Bubblemeter Backend API",
    "license": {
      "name": "Apache 2.0",
      "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
    }
  },
  "host": "virtserver.swaggerhub.com",
  "basePath": "/hoehlars/bubblemeterbackend/1.0.0",
  "schemes": [
    "https",
    "http"
  ],
  "paths": {
    "/make_analysis/{twitterID}": {
      "get": {
        "summary": "Make an analysis of the network for the user by twitter id.",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "twitterID",
            "in": "path",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the top ten most influential nodes and all politicians in the network.",
            "schema": {
              "$ref": "#/definitions/inline_response_200"
            }
          }
        }
      }
    },
    "/request_analysis/{twitterHandleOrTwitterID}": {
      "get": {
        "summary": "Adds a twitter user into the request queue for analyzing.",
        "parameters": [
          {
            "name": "twitterHandleOrTwitterID",
            "in": "path",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a message if the entry into the request queue was successfull. Otherwise returns also a message containing that the entry in the request queue was not successfull.",
            "schema": {
              "$ref": "#/definitions/inline_response_200_1"
            }
          }
        }
      }
    },
    "/request_analysed_users": {
      "get": {
        "summary": "Returns all already analyzed users from the db.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Returns all analzyzed users from the db.",
            "schema": {
              "$ref": "#/definitions/inline_response_200_2"
            }
          }
        }
      }
    },
    "/request_queue_length": {
      "get": {
        "summary": "Returns the length of the request queue.",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Response with length of response queue.",
            "schema": {
              "$ref": "#/definitions/inline_response_200_3"
            }
          }
        }
      }
    },
    "/polit_score/{twitterID}": {
      "get": {
        "summary": "Calculates the polit score of the network of the twitter user with the twitterID.",
        "parameters": [
          {
            "name": "twitterID",
            "in": "path",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the amount of politicians in the network, the amount of politicians in the db, the amount of nodes in the network and the polit score.",
            "schema": {
              "$ref": "#/definitions/inline_response_200_4"
            }
          }
        }
      }
    },
    "/most_influential_party/{twitterID}": {
      "get": {
        "summary": "Returns a sorted list of the influence of all the parties in the network. This list is generated by only using the top hundred most influential politicians in the network.",
        "parameters": [
          {
            "name": "twitterID",
            "in": "path",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the list of parties with an influence score.",
            "schema": {
              "$ref": "#/definitions/inline_response_200_5"
            }
          }
        }
      }
    },
    "/centroid/{twitterID}": {
      "get": {
        "summary": "Calculates the smartmap centroid by using the smartmap coordinates of the top five percent of politicians in the network.",
        "parameters": [
          {
            "name": "twitterID",
            "in": "path",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the coordinates of the centroid.",
            "schema": {
              "$ref": "#/definitions/inline_response_200_6"
            }
          }
        }
      }
    },
    "/inner_outer_circle/{twitterID}/{radius}": {
      "get": {
        "summary": "Calculates the smartmap centroid and draws a circle around the centroid with the given radius. Splits the politicians in the network in two groups, politicians inside the circle and politicians outside the circle.",
        "parameters": [
          {
            "name": "twitterID",
            "in": "path",
            "required": true,
            "type": "integer"
          },
          {
            "name": "radius",
            "in": "path",
            "required": true,
            "type": "integer"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the coordinates of the centroid.",
            "schema": {
              "$ref": "#/definitions/inline_response_200_7"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "inline_response_200_5": {
      "type": "object",
      "properties": {
        "parties": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/party"
          }
        }
      }
    },
    "inline_response_200_6": {
      "type": "object",
      "properties": {
        "x": {
          "type": "integer"
        },
        "y": {
          "type": "integer"
        }
      }
    },
    "inline_response_200_7": {
      "type": "object",
      "properties": {
        "radius": {
          "type": "integer"
        },
        "politicians_inside": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/politician_in_network_centroid"
          }
        },
        "politicians_outside": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/politician_in_network_centroid"
          }
        }
      }
    },
    "inline_response_200_1": {
      "type": "object",
      "properties": {
        "msg": {
          "type": "string"
        }
      }
    },
    "inline_response_200": {
      "type": "object",
      "properties": {
        "politicians_in_network": {
          "type": "array",
          "description": "The user ID.",
          "items": {
            "$ref": "#/components/schemas/politician_in_network"
          }
        },
        "top_ten_most_influential": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/most_influential_node_in_network"
          }
        }
      }
    },
    "inline_response_200_2": {
      "type": "object",
      "properties": {
        "analyzed_users": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/analyzed_users"
          }
        }
      }
    },
    "inline_response_200_3": {
      "type": "object",
      "properties": {
        "queue_length": {
          "type": "integer"
        }
      }
    },
    "inline_response_200_4": {
      "type": "object",
      "properties": {
        "amount_of_politicians_in_network": {
          "type": "integer"
        },
        "amount_of_politicians_in_db": {
          "type": "integer"
        },
        "size_of_whole_network": {
          "type": "integer"
        },
        "polit_score": {
          "type": "number"
        }
      }
    }
  }
}